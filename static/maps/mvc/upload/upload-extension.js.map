{"version":3,"sources":["mvc/upload/upload-extension.js"],"names":["define","Utils","Popover","Backbone","View","extend","initialize","options","Model","this","model","render","attributes","self","_","findWhere","list","extension","id","extension_popup","placement","container","$el","empty","title","description","_templateDescription","tmpl","description_url"],"mappings":"aACAA,QAAQ,cAAe,qBAAsB,SAASC,EAAOC,GAD7D,OAAAC,SAAAC,KAAAC,QACQC,WAAA,SAAeC,GACZJ,KAAAA,MAAcE,IAAAA,SAAOG,MAAAD,GACxBD,KAAAA,WAAY,UACRG,KAAKC,UAGRC,OALuB,WAQpB,IADIJ,EAAAE,KAAAC,MAAWE,WACXC,EAAJC,EAAAC,UAAAR,EAAAS,MACIT,GAAAA,EAAUU,YAEVC,KAAAA,iBAAYD,KAAAA,gBAAAA,SAD4BR,KAA5CU,gBAAA,IAAAjB,EAAAE,MAGAgB,UAAKD,EAALC,WAA6BD,SAC7BE,UAAKF,EAAkBG,MAEnBD,KAAAA,gBAAWd,MAAQe,EAAAA,OAFiBb,KAAxCU,gBAAAI,QAIAd,KAAKU,gBAAgBK,OAAMjB,KAAAA,qBAA3BkB,IACAhB,KAAKU,gBAAgBI,QAMzBG,qBAAsB,SAASnB,GAD/B,GAAAA,EAAAkB,YAAA,CACAC,IAAAA,EAAAA,EAAsBD,YAClB,OAAIlB,EAAQkB,kBACJE,GACApB,mBACAoB,EACIC,gBAGP,oCAEED,EAEN,MAAA","file":"../../../scripts/mvc/upload/upload-extension.js","sourcesContent":["/** This renders a popover with extension details **/\ndefine([\"utils/utils\", \"mvc/ui/ui-popover\"], function(Utils, Popover) {\n    return Backbone.View.extend({\n        initialize: function(options) {\n            this.model = new Backbone.Model(options);\n            this.setElement(\"<div/>\");\n            this.render();\n        },\n\n        render: function() {\n            var self = this;\n            var options = this.model.attributes;\n            var description = _.findWhere(options.list, {\n                id: options.extension\n            });\n            this.extension_popup && this.extension_popup.remove();\n            this.extension_popup = new Popover.View({\n                placement: options.placement || \"bottom\",\n                container: options.$el\n            });\n            this.extension_popup.title(options.title);\n            this.extension_popup.empty();\n            this.extension_popup.append(this._templateDescription(description));\n            this.extension_popup.show();\n        },\n\n        /** Template for extensions description */\n        _templateDescription: function(options) {\n            if (options.description) {\n                var tmpl = options.description;\n                if (options.description_url) {\n                    tmpl +=\n                        '&nbsp;(<a href=\"' +\n                        options.description_url +\n                        '\" target=\"_blank\">read more</a>)';\n                }\n                return tmpl;\n            } else {\n                return \"There is no description available for this file extension.\";\n            }\n        }\n    });\n});\n"]}