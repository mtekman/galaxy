{"version":3,"sources":["mvc/upload/upload-settings.js"],"names":["define","Utils","Backbone","View","extend","options","class_check","parameters","title","id","initialize","self","this","setElement","model","$el","$","addClass","append","$cover","$table","listenTo","trigger","render","_","each","parameter","get","class_uncheck","on","set","$checkbox"],"mappings":"aACAA,QAAQ,eAAgB,SAASC,GADjC,OAAAC,SAAAC,KAAAC,QACQC,SACGH,YAAcE,oBACjBC,cAAS,cACLC,aAEAC,GAAY,eAEAC,MAAA,2BAIAC,GAAA,iBACJD,MAAO,wBAMfE,WAAIC,SAAJN,GAEAO,KAAKC,MAAAA,EAAaC,MAClBF,KAAKG,WAAWC,EAAE,UAAUC,SAAS,oBACrCL,KAAKG,IAAIG,OACLF,EAAE,UAAFC,SACKA,0BAGTL,KAAKO,IAAAA,OACLH,EAAKI,YACAC,SAAS,0CACTP,OAAMQ,aAHXV,KAAKO,OAASP,KAAKI,EAAE,0BAMzBO,KAAQH,OAAAR,KAAAI,EAAA,kCACJJ,KAAID,SAAOC,KAAXE,MAAA,SAAAF,KAAAW,OAAAX,MACAA,KAAKQ,MAALE,QAAA,WAYYX,OAAAA,WAKH,IAAAA,EAfLC,KAgBAD,KAAAA,OAAKS,QAKRI,EAtBDC,KAAAb,KAAAP,QAAAE,WAAA,SAAAmB,GAuBA,IAAKP,EAAaL,EAAL,UAChBG,SA3DL,UAAAS,EAAAjB,GAAA,0BAwCiBQ,SACIN,EAAKG,MAAMa,IAAID,EAAUjB,KACtBE,EAAKN,QAAQC,aACbK,EAAKN,QAAQuB,eAEpBC,GAAG,QAAS,WACTlB,EAAKG,MAAMa,IAAI,YACXhB,EAAKG,MAAMgB,IACPJ,EAAUjB,IACTE,EAAKG,MAAMa,IAAID,EAAUjB,OAG1CE,EAAKS,OAAOF,OACRF,EAAE,SACGE,OAAOF,EAAE,SAASE,OAAOa,IACzBb,OAAOF,EAAE,SAASE,OAAOQ,EAAUlB,WAGhDI,KAAKO,OAAQP,KAAKE,MAAMa,IAAI,YAAc,QAAW","file":"../../../scripts/mvc/upload/upload-settings.js","sourcesContent":["/** This renders the content of the settings popup, allowing users to specify flags i.e. for space-to-tab conversion **/\ndefine([\"utils/utils\"], function(Utils) {\n    return Backbone.View.extend({\n        options: {\n            class_check: \"fa-check-square-o\",\n            class_uncheck: \"fa-square-o\",\n            parameters: [\n                {\n                    id: \"space_to_tab\",\n                    title: \"Convert spaces to tabs\"\n                },\n                {\n                    id: \"to_posix_lines\",\n                    title: \"Use POSIX standard\"\n                }\n            ]\n        },\n\n        initialize: function(options) {\n            var self = this;\n            this.model = options.model;\n            this.setElement($(\"<div/>\").addClass(\"upload-settings\"));\n            this.$el.append($(\"<div/>\").addClass(\"upload-settings-cover\"));\n            this.$el.append(\n                $(\"<table/>\")\n                    .addClass(\"upload-settings-table ui-table-striped\")\n                    .append(\"<tbody/>\")\n            );\n            this.$cover = this.$(\".upload-settings-cover\");\n            this.$table = this.$(\".upload-settings-table > tbody\");\n            this.listenTo(this.model, \"change\", this.render, this);\n            this.model.trigger(\"change\");\n        },\n\n        render: function() {\n            var self = this;\n            this.$table.empty();\n            _.each(this.options.parameters, function(parameter) {\n                var $checkbox = $(\"<div/>\")\n                    .addClass(\n                        \"upload-\" + parameter.id + \" upload-icon-button fa\"\n                    )\n                    .addClass(\n                        (self.model.get(parameter.id) &&\n                            self.options.class_check) ||\n                            self.options.class_uncheck\n                    )\n                    .on(\"click\", function() {\n                        self.model.get(\"enabled\") &&\n                            self.model.set(\n                                parameter.id,\n                                !self.model.get(parameter.id)\n                            );\n                    });\n                self.$table.append(\n                    $(\"<tr/>\")\n                        .append($(\"<td/>\").append($checkbox))\n                        .append($(\"<td/>\").append(parameter.title))\n                );\n            });\n            this.$cover[(this.model.get(\"enabled\") && \"hide\") || \"show\"]();\n        }\n    });\n});\n"]}