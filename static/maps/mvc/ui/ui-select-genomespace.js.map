{"version":3,"sources":["mvc/ui/ui-select-genomespace.js"],"names":["define","Utils","GenomespaceBrowser","View","initialize","extend","self","options","this","icon","Ui","ButtonIcon","tooltip","onclick","browseGenomeSpace","filename_textbox","Input","token_textbox","type","$","_template","append","$el","openFileBrowser","successCallback","data","value","destination","token","new_value","_setValue","undefined","_getValue","values","split"],"mappings":"aACAA,QAAQ,cAAe,iBAAkB,6BAA8B,SADvEC,EACAD,EAKIE,GAuFA,OACIC,KAnFAC,SAAYD,KAAAE,QAERD,WAAIE,SAAJC,GAEA,IAAAD,EAAAE,KAGIC,KAAAA,cAAM,IAF6BC,EAAAC,YAGnCC,MAAAA,SACAC,KAAAA,gBACIP,QAAKQ,qBACRD,QAAA,WANLP,EAAAQ,uBAYAN,KAAAO,iBAAA,IAAAL,EAAAM,MACkCR,KAAlCS,cAAA,IAAAP,EAAAM,OACIE,KAAM,aAMVV,KAAKW,WAAEX,KAAAY,UAAAb,IACPC,KAAKW,EAAE,wBAAwBE,OAAOb,KAAKS,cAAcK,KA5BjCd,KAAAW,EAAA,2BAAAE,OAAAb,KAAAO,iBAAAO,KA4BxBd,KAAKW,EAAE,wBAAwBE,OAAOb,KAAKS,cAAcK,MAMzDpB,kBAAAA,SAAmBqB,GACfC,IAAAA,EAAAA,KACIlB,EAAWmB,iBACdD,gBAAA,SAAAC,GAHLnB,EAAAoB,MAAAD,EAAAE,YAAA,IAAAF,EAAAG,WAqBHR,UAvD2B,SAAAb,GA2CxB,MAcJ,6SACAmB,MAAO,SAASG,GAiBhBC,QAAWC,IAAXD,EAGQ,OAAKf,KAAAA,YAFLc,KAAAA,UAAWA,IARnBG,UAAW,WAgBR,OACG7B,KAAAA,iBAAAA,QAAAA,IAAAA,KAAAA,cAAAA,SAVN2B,UAAW,SAASD,GACZA,IACAI,OAASJ,EAAUK,MAAM,KACzB1B,KAAKO,iBAAiBW,MAAMO,OAAO,IACnCzB,KAAKS,cAAcS,MAAMO,OAAO","file":"../../../scripts/mvc/ui/ui-select-genomespace.js","sourcesContent":["// dependencies\ndefine([\"utils/utils\", \"mvc/ui/ui-misc\", \"mvc/tool/tool-genomespace\"], function(\n    Utils,\n    Ui,\n    GenomespaceBrowser\n) {\n    /**\n * GenomeSpace file selector\n */\n    var View = Backbone.View.extend({\n        // initialize\n        initialize: function(options) {\n            // link this\n            var self = this;\n\n            // create insert new list element button\n            this.browse_button = new Ui.ButtonIcon({\n                title: \"Browse\",\n                icon: \"fa fa-sign-in\",\n                tooltip: \"Browse GenomeSpace\",\n                onclick: function() {\n                    self.browseGenomeSpace();\n                }\n            });\n\n            // create genomespace filepath textbox\n            this.filename_textbox = new Ui.Input();\n\n            // create genomespace token textbox\n            this.token_textbox = new Ui.Input({\n                type: \"password\"\n            });\n\n            // create elements\n            this.setElement(this._template(options));\n            this.$(\".ui-gs-browse-button\").append(this.browse_button.$el);\n            this.$(\".ui-gs-filename-textbox\").append(this.filename_textbox.$el);\n            this.$(\".ui-gs-token-textbox\").append(this.token_textbox.$el);\n        },\n\n        /** Browse GenomeSpace */\n        browseGenomeSpace: function(options) {\n            var self = this;\n            GenomespaceBrowser.openFileBrowser({\n                successCallback: function(data) {\n                    self.value(data.destination + \"^\" + data.token);\n                }\n            });\n        },\n\n        /** Main Template */\n        _template: function(options) {\n            return (\n                '<div class=\"ui-gs-select-file\">' +\n                '<div class=\"ui-gs-browse-field\">' +\n                '<span class=\"ui-gs-browse-button\" />' +\n                '<span class=\"ui-gs-filename-textbox\" />' +\n                \"</div>\" +\n                '<div class=\"ui-gs-token-field\">' +\n                '<span class=ui-gs-label\"><div class=\"ui-gs-token-label\">Token</div></span>' +\n                '<span class=\"ui-gs-token-textbox\" />' +\n                \"</div>\" +\n                \"</div>\"\n            );\n        },\n\n        /** Return/Set currently selected genomespace filename/token */\n        value: function(new_value) {\n            // check if new_value is defined\n            if (new_value !== undefined) {\n                this._setValue(new_value);\n            } else {\n                return this._getValue();\n            }\n        },\n\n        // get value\n        _getValue: function() {\n            return (\n                this.filename_textbox.value() + \"^\" + this.token_textbox.value()\n            );\n        },\n\n        // set value\n        _setValue: function(new_value) {\n            if (new_value) {\n                values = new_value.split(\"^\");\n                this.filename_textbox.value(values[0]);\n                this.token_textbox.value(values[1]);\n            }\n        }\n    });\n\n    return {\n        View: View\n    };\n});\n"]}