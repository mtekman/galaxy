{"version":3,"sources":["mvc/ui/ui-select-ftp.js"],"names":["define","Utils","List","View","Backbone","extend","initialize","this","ftpfile_list","name","optional","options","multiple","onchange","self","value","setElement","$el","get","url","Galaxy","root","response","success","i","data","update","val"],"mappings":"aACAA,QAAQ,cAAe,kBAAmB,SAASC,EAAOC,GAItB,OA0C5BC,KA1COC,SAASD,KAAKE,QAArBF,WAAOC,SAAcC,GAErBC,IAAAA,EAAYC,KAKRA,KAAKC,aAAe,IAAIN,EAAKC,MAD7BM,KAAA,OACAC,SAAKF,EAAeE,SAChBD,SAAME,EADwBC,SAE9BF,SAAUC,WACVC,EAAUD,UAAQC,EAHYC,SAAAC,EAAAC,YAUlCR,KAAKS,WAAWT,KAAKC,aAAaS,KAGlChB,EAAMiB,KADNC,IAAAC,OAAAC,KAAA,mBACApB,QAAU,SAAAqB,GACNH,IAAKC,KACLG,IAAS,IAAAC,KAAAF,EACDG,EAAAA,MACCV,MAASO,EAAUE,GAAVF,KACVG,MAAUH,EAAAE,GAAA,OAAAV,EAAVN,aAAAkB,OAAAD,OAWhBV,MAAO,SAASY,GADhB,OAAApB,KAAAC,aAAAO,MAAAY","file":"../../../scripts/mvc/ui/ui-select-ftp.js","sourcesContent":["// dependencies\ndefine([\"utils/utils\", \"mvc/ui/ui-list\"], function(Utils, List) {\n    /**\n * FTP file selector\n */\n    var View = Backbone.View.extend({\n        // initialize\n        initialize: function(options) {\n            // link this\n            var self = this;\n\n            // create ui-list view to keep track of selected ftp files\n            this.ftpfile_list = new List.View({\n                name: \"file\",\n                optional: options.optional,\n                multiple: options.multiple,\n                onchange: function() {\n                    options.onchange && options.onchange(self.value());\n                }\n            });\n\n            // create elements\n            this.setElement(this.ftpfile_list.$el);\n\n            // initial fetch of ftps\n            Utils.get({\n                url: Galaxy.root + \"api/remote_files\",\n                success: function(response) {\n                    var data = [];\n                    for (var i in response) {\n                        data.push({\n                            value: response[i][\"path\"],\n                            label: response[i][\"path\"]\n                        });\n                    }\n                    self.ftpfile_list.update(data);\n                }\n            });\n        },\n\n        /** Return/Set currently selected ftp datasets */\n        value: function(val) {\n            return this.ftpfile_list.value(val);\n        }\n    });\n\n    return {\n        View: View\n    };\n});\n"]}