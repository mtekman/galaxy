{"version":3,"sources":["mvc/toolshed/shed-list-view.js"],"names":["define","toolshed_model","ShedListView","defaults","View","extend","tool_sheds","url","name","initialize","model","this","fetch","options","ShedsCollection","listenTo","render","el","title","_","queue","toolshed_list_template","templateToolshedList","reDraw","$el","html","models","toolshed_util","queueLength","empty","template","join"],"mappings":"aAAAA,QAAQ,8BAA+B,qBAAsB,SACzDC,EADJD,GAuEI,OACIE,aAnEAC,SAAUC,KAAAC,QACNC,UAEQC,aAFIA,IAAA,kCAFYC,KAAA,2BAaxBC,WAAKC,SAAYT,GAEjBU,KAAKD,QAAME,EAAXT,SAAAQ,KAAAE,YAAAF,KAAAR,UAfwBQ,KAAAD,MAAA,IAAAT,EAAAa,gBAcxBH,KAAKI,SAASJ,KAAKD,MAAO,OAAQC,KAAKK,QAIvCL,KAAAD,MAlBwBE,SAqBxBK,GAAA,UAMAD,OAAA,SAAAH,GAEQK,KAAAA,QAAOC,EAAAhB,SACPG,KAAAA,YACAc,EAJRT,KAAAR,UADA,IAAIkB,EAAyBV,KAAKW,qBAUtCC,KAAQC,IAAAC,KACJJ,GACKL,MAAOH,+BAtCYP,WAAAK,KAAAD,MAAAgB,OA+BhBN,MAAOO,EAAcC,kBAqCjC1B,OAAAA,SAAcE,GADlBO,KAAAa,IAAAK,QAvEJlB,KAAAK,OAAAH,IA6CQS,qBAAsBH,EAAEW,UAEhB,yEACA,6DACA,wJACA,SACA,uDACA,yBACA,uBACA,4CACA,4BACA,OACA,wEACA,8GACA,SACA,QACA,QACA,YACA,WACA,SACA,kCACA,UACFC,KAAK","file":"../../../scripts/mvc/toolshed/shed-list-view.js","sourcesContent":["define([\"mvc/toolshed/toolshed-model\", \"mvc/toolshed/util\"], function(\n    toolshed_model,\n    toolshed_util\n) {\n    var View = Backbone.View.extend({\n        defaults: {\n            tool_sheds: [\n                {\n                    url: \"https://toolshed.g2.bx.psu.edu/\",\n                    name: \"Galaxy Main Tool Shed\"\n                }\n            ]\n        },\n\n        initialize: function(options) {\n            var self = this;\n            this.options = _.defaults(this.options || {}, this.defaults);\n            this.model = new toolshed_model.ShedsCollection();\n            this.listenTo(this.model, \"sync\", this.render);\n            this.model.fetch();\n        },\n\n        el: \"#center\",\n\n        render: function(options) {\n            this.options = _.defaults(\n                this.options || {},\n                options,\n                this.defaults\n            );\n            var toolshed_list_template = this.templateToolshedList;\n            this.$el.html(\n                toolshed_list_template({\n                    title: \"Configured Galaxy Tool Sheds\",\n                    tool_sheds: this.model.models,\n                    queue: toolshed_util.queueLength()\n                })\n            );\n        },\n\n        reDraw: function(options) {\n            this.$el.empty();\n            this.render(options);\n        },\n\n        templateToolshedList: _.template(\n            [\n                '<div class=\"unified-panel-header\" id=\"panel_header\" unselectable=\"on\">',\n                '<div class=\"unified-panel-header-inner\"><%= title %></div>',\n                '<div class=\"unified-panel-header-inner\" style=\"position: absolute; right: 5px; top: 0px;\"><a href=\"#/queue\">Repository Queue (<%= queue %>)</a></div>',\n                \"</div>\",\n                '<div class=\"unified-panel-body\" id=\"list_toolsheds\">',\n                '<div class=\"form-row\">',\n                '<table class=\"grid\">',\n                \"<% _.each(tool_sheds, function(shed) { %>\",\n                '<tr class=\"libraryTitle\">',\n                \"<td>\",\n                '<div style=\"float: left; margin-left: 1px;\" class=\"menubutton split\">',\n                '<a class=\"view-info shed-selector\" href=\"#/categories/s/<%= shed.get(\"url\") %>\"><%= shed.get(\"name\") %></a>',\n                \"</div>\",\n                \"</td>\",\n                \"</tr>\",\n                \"<% }); %>\",\n                \"</table>\",\n                \"</div>\",\n                '<div style=\"clear: both\"></div>',\n                \"</div>\"\n            ].join(\"\")\n        )\n    });\n\n    return {\n        ShedListView: View\n    };\n});\n"]}