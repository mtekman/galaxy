{"version":3,"sources":["reports_webapp/run_stats.js"],"names":["days_in_month","month","year","Date","getDate","date_by_subtracting_days","date","days","getMonth","getHours","date_by_subtracting_hours","getSeconds","getMilliseconds","hours","getFullYear","refresh","window","location","get_utc_time_hours","data","inp_data","hours_array","now","i","reload","create_chart","time","name","title","height","chart_zoom","d3","push","chart_height","days_array","margin","classes","select","attr","left","selectAll","width","barWidth","$","chart_width","max","zoom","curr_margin","top","bottom","css","chart","m_x","m_y","l_x","l_y","on","this","size","split","transition","duration","wdth","path","style","bar","y","enter","append","yAxis","orient","d","top_pad","axis","trans","event","text","String","first","_y2","curr_day","locale","text_height","this_width","scale","linear","range","svg","tickFormat","round","call","curr_month","e","node","getBoundingClientRect","curr_month_text","getBBox","create_histogram","domain","layout","lengths","curr_day_text","toLocaleString","formatMinutes","minutes","bar_x","left_pad","right","x","histogram","bins","ticks","length","filter","undefined","dx","xAxis","Math","floor"],"mappings":"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","file":"../../scripts/reports_webapp/run_stats.js","sourcesContent":["function days_in_month(month, year) {\n    return new Date(year, month, 0).getDate();\n}\n\nfunction date_by_subtracting_days(date, days) {\n    return new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate() - days,\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    );\n}\n\nfunction date_by_subtracting_hours(date, hours) {\n    return new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours() - hours,\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    );\n}\n\n// Gets the utc time without minutes and seconds\nfunction get_utc_time_hours() {\n    var date = new Date();\n    return new Date(\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        0,\n        0\n    );\n}\n\n// Refreshes the page for more up to date information\nfunction refresh() {\n    window.location.reload(true);\n}\n\n// This is commented out until we make Reports more responsive.\n// setTimeout(refresh, 60000); //1 minute = 60000 ms\n\nfunction create_chart(inp_data, name, time, title) {\n    // Initialize starting variables\n    var data = inp_data;\n\n    var hours_array = [];\n    var now = get_utc_time_hours();\n    for (var i = 0; i < 24; i++) {\n        hours_array.push(date_by_subtracting_hours(now, i));\n    }\n\n    var days_array = [];\n    var now = get_utc_time_hours();\n    for (var i = 0; i < 30; i++) {\n        days_array.push(date_by_subtracting_days(now, i));\n    }\n\n    var margin = { top: 60, right: 30, bottom: 50, left: 60 };\n    var width = 300;\n    var barWidth = 0;\n    if (time == \"hours\") {\n        barWidth = width / 24;\n    } else if (time == \"days\") {\n        barWidth = width / 30;\n    }\n    var chart_width = width + margin.left + margin.right;\n\n    var chart_zoom = 1.75;\n    var height = 150;\n    if (d3.max(data) != 0) {\n        var zoom = height / d3.max(data);\n    } else {\n        var zoom = 1.0;\n    }\n    var chart_height = height + margin.top + margin.bottom;\n\n    // Function for zooming in and out of charts\n    function click() {\n        var classes = d3.select(this).attr(\"class\");\n        classes = classes.split(\" \");\n        d3\n            .selectAll(\".\" + classes[0])\n            .filter(\".\" + classes[1])\n            .style(\"cursor\", \"zoom-in\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height)\n            .attr(\"width\", chart_width);\n\n        d3\n            .select(this)\n            .style(\"cursor\", \"default\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom);\n    }\n\n    // Initialize all chart containers to have the correct height\n    $(\".charts\").css(\"height\", chart_height * chart_zoom);\n\n    // Create the chart object\n    var chart = d3\n        .select(\"#\" + name)\n        .attr(\"width\", chart_width)\n        .attr(\"height\", chart_height)\n        .attr(\"preserveAspectRatio\", \"xMidYMin\")\n        .attr(\"viewBox\", \"0 0 \" + chart_width + \" \" + chart_height)\n        .on(\"click\", click);\n\n    // Create bars on the chart and assosciate data with it\n    var bar = chart\n        .selectAll(\"g\")\n        .data(data)\n        .enter()\n        .append(\"g\")\n        .attr(\"transform\", function(d, i) {\n            // Place the bar in the correct place\n            var curr_margin = +margin.left;\n            curr_margin += +(i * barWidth);\n            return \"translate(\" + curr_margin + \",\" + margin.top + \")\";\n        })\n        .on(\"mouseenter\", function(d) {\n            // Show tool tip\n            var i = 1;\n            var size = d;\n\n            while (size >= 10) {\n                size = size / 10;\n                i++;\n            }\n\n            var wdth = i * 4 + 10;\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\n                    \"transform\",\n                    \"translate( \" +\n                        (margin.left - 5) +\n                        \", \" +\n                        (height - d * zoom + +margin.top + 10) +\n                        \" )\"\n                )\n                .attr(\"visibility\", \"visible\")\n                .text(d);\n\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .attr(\"width\", wdth + \"px\")\n                .attr(\"height\", \"15px\")\n                .select(\"rect\")\n                .attr(\n                    \"transform\",\n                    \"translate( \" +\n                        (+margin.left - wdth) +\n                        \", \" +\n                        (height - d * zoom + +margin.top) +\n                        \" )\"\n                )\n                .attr(\"width\", wdth + \"px\")\n                .attr(\"height\", \"15px\")\n                .attr(\"fill\", \"#ebd9b2\");\n        })\n        .on(\"mouseleave\", function(d) {\n            // Remove tool tip\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\"visibility\", \"hidden\");\n\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .select(\"rect\")\n                .attr(\"width\", \"0\")\n                .attr(\"height\", \"0\")\n                .attr(\"fill\", \"\")\n                .text(d);\n        });\n\n    // Add a title to the chart\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", function(e) {\n            return \"translate( \" + width + \",15 )\";\n        })\n        .text(title);\n\n    // Add an x axis line to the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"axis\")\n        .append(\"path\")\n        .attr(\"class\", \"x\")\n        .attr(\"d\", function(d) {\n            var m_x = margin.left;\n            var m_y = +margin.top + height;\n            var l_x = m_x + width;\n            var l_y = m_y;\n\n            return \"M\" + m_x + \" \" + m_y + \" L \" + l_x + \" \" + l_y;\n        });\n\n    // Declare how high the y axis goes\n    var y = d3.scale.linear().range([height, 0]);\n\n    // Create a yAxis object\n    var yAxis = d3.svg\n        .axis()\n        .scale(y)\n        .orient(\"left\")\n        .tickFormat(function(d) {\n            return d3.round(d * d3.max(data), 0);\n        });\n\n    // Put the y axis on the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"id\", \"y_\" + name)\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", \"translate( \" + margin.left + \",\" + margin.top + \")\")\n        .call(yAxis)\n        .select(\".domain\");\n\n    // Put a title for y axis on chart\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"ax_title\")\n        .attr(\"transform\", function(e) {\n            var axis = d3.select(\"#y_\" + name).node();\n            var left_pad =\n                +margin.left - axis.getBoundingClientRect().width - 5;\n            var top_pad =\n                +margin.top + axis.getBoundingClientRect().height / 2 - 30;\n            var trans =\n                \"translate(\" + left_pad + \",\" + top_pad + \")rotate(-90)\";\n\n            return trans;\n        })\n        .text(\"Number of Jobs\");\n\n    // Add color to the chart's bars\n    bar\n        .append(\"rect\")\n        .attr(\"y\", function(d) {\n            return height - d * zoom;\n        })\n        .attr(\"height\", function(d) {\n            return d * zoom;\n        })\n        .attr(\"width\", barWidth - 1);\n\n    // Append x axis\n    if (time == \"hours\") {\n        // Append hour lines\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", 3)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( \" + barWidth / 2 + \", \" + height + \")\";\n            });\n\n        // Append hour numbers\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"transform\", \"translate( 10, \" + (height + 10) + \" )\")\n            .text(function(d, i) {\n                var time = \"0000\";\n\n                if (hours_array[i].getHours() < 10) {\n                    time = \"0\" + String(hours_array[i].getHours());\n                } else {\n                    time = hours_array[i].getHours();\n                }\n\n                return time;\n            });\n\n        // Append day lines\n        var curr_day = \"\";\n        var first = false;\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", function(d, i) {\n                var _y2 = 0;\n\n                if (hours_array[i].getDate() != curr_day) {\n                    if (!first) {\n                        _y2 = 27;\n                        first = true;\n                    } else {\n                        _y2 = 20;\n                    }\n\n                    curr_day = hours_array[i].getDate();\n                }\n\n                return _y2;\n            })\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( 0, \" + height + \")\";\n            });\n\n        // Append day numbers\n        curr_day = \"\";\n        curr_day_text = \"\";\n        first = false;\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"pointer-events\", \"none\")\n            .text(function(d, i) {\n                var time = \"\";\n                var locale = \"en-us\";\n\n                if (hours_array[i].getDate() != curr_day_text) {\n                    time = String(\n                        hours_array[i].toLocaleString(locale, { month: \"long\" })\n                    );\n                    time += \" \" + String(hours_array[i].getDate());\n\n                    curr_day_text = hours_array[i].getDate();\n                }\n\n                return time;\n            })\n            .attr(\"transform\", function(d, i) {\n                var text_height = height;\n                var this_width = d3\n                    .select(this)\n                    .node()\n                    .getBBox().width;\n\n                if (hours_array[i].getDate() != curr_day) {\n                    if (!first) {\n                        text_height += 26;\n                        first = true;\n                    } else {\n                        text_height += 18;\n                    }\n\n                    curr_day = hours_array[i].getDate();\n                }\n\n                return (\n                    \"translate( \" + (this_width + 2) + \", \" + text_height + \" )\"\n                );\n            });\n    } else if (time == \"days\") {\n        // Append day lines\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", 3)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( \" + barWidth / 2 + \", \" + height + \")\";\n            });\n\n        // Append day numbers\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"transform\", \"translate( 9, \" + (height + 10) + \" )\")\n            .text(function(d, i) {\n                var time = \"0000\";\n\n                if (days_array[i].getDate() < 10) {\n                    time = \"0\" + String(days_array[i].getDate());\n                } else {\n                    time = days_array[i].getDate();\n                }\n\n                return time;\n            });\n\n        // Append month lines\n        var curr_month = \"\";\n        var first = false;\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", function(d, i) {\n                var _y2 = 0;\n\n                if (days_array[i].getMonth() != curr_month) {\n                    if (!first) {\n                        _y2 = 27;\n                        first = true;\n                    } else {\n                        _y2 = 20;\n                    }\n\n                    curr_month = days_array[i].getMonth();\n                }\n\n                return _y2;\n            })\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( 0, \" + height + \")\";\n            });\n\n        // Append month numbers\n        curr_month = \"\";\n        curr_month_text = \"\";\n        first = false;\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,100,0)\")\n            .attr(\"pointer-events\", \"none\")\n            .text(function(d, i) {\n                var time = \"\";\n                var locale = \"en-us\";\n\n                if (days_array[i].getMonth() != curr_month_text) {\n                    time = String(\n                        days_array[i].toLocaleString(locale, { month: \"long\" })\n                    );\n                    time += \" \" + String(days_array[i].getFullYear());\n\n                    curr_month_text = days_array[i].getMonth();\n                }\n\n                return time;\n            })\n            .attr(\"transform\", function(d, i) {\n                var text_height = height;\n                var this_width = d3\n                    .select(this)\n                    .node()\n                    .getBBox().width;\n\n                if (days_array[i].getMonth() != curr_month) {\n                    if (!first) {\n                        text_height += 26;\n                        first = true;\n                    } else {\n                        text_height += 18;\n                    }\n\n                    curr_month = days_array[i].getMonth();\n                }\n\n                return (\n                    \"translate( \" + (this_width + 2) + \", \" + text_height + \" )\"\n                );\n            });\n    }\n\n    // Put an invisible tool tip on the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"tool_tip\")\n        .append(\"rect\");\n    chart.select(\".tool_tip\").append(\"text\");\n\n    // Initialize initial zoomed charts\n    if (name == \"jc_dy_chart\" || name == \"jc_hr_chart\") {\n        d3\n            .select(\"#\" + name)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom)\n            .style(\"cursor\", \"default\");\n    }\n}\n\n//============================================================================================================\n\nfunction create_histogram(inp_data, name, title) {\n    // Initialize initial variables\n    // inp_data is an array of numbers that are the amount of minutes per run\n    var data = inp_data;\n\n    var chart_zoom = 1.75;\n    var margin = { top: 60, right: 30, bottom: 50, left: 60 };\n\n    var height = 150;\n    var chart_height = height + margin.top + margin.bottom;\n\n    var width = 300;\n    var chart_width = width + margin.left + margin.right;\n\n    // Cereate x axis metadata\n    // Used for x axis, histogram creation, and bar initialization\n    var x = d3.scale\n        .linear()\n        .domain([0, d3.max(data)])\n        .range([0, width]);\n\n    // Generate a histogram using twenty uniformly-spaced bins.\n    var data = d3.layout.histogram().bins(x.ticks(20))(data);\n\n    // Create an array of the sizes of the bars\n    var lengths = [];\n    for (var i = 0; i < data.length; i++) {\n        lengths.push(data[i].length);\n    }\n\n    // Find the amount needed to magnify the bars\n    if (d3.max(data) != 0) {\n        var zoom = height / d3.max(lengths);\n    } else {\n        var zoom = 1.0;\n    }\n\n    // Create y axis metadata\n    // Used for y axis and bar initialization\n    var y = d3.scale\n        .linear()\n        .domain([\n            0,\n            d3.max(data, function(d) {\n                return d.y;\n            })\n        ])\n        .range([height, 0]);\n\n    // Function for zooming in and out of charts\n    function click() {\n        var classes = d3.select(this).attr(\"class\");\n        classes = classes.split(\" \");\n        d3\n            .selectAll(\".\" + classes[0])\n            .filter(\".\" + classes[1])\n            .style(\"cursor\", \"zoom-in\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height)\n            .attr(\"width\", chart_width);\n\n        d3\n            .select(this)\n            .style(\"cursor\", \"default\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom);\n    }\n\n    // Formatter for x axis times (converting minutes to HH:MM).\n    var formatMinutes = function(d) {\n        var hours = Math.floor(d / 60),\n            minutes = Math.floor(d - hours * 60);\n\n        if (hours < 10) {\n            hours = \"0\" + hours;\n        }\n        if (minutes < 10) {\n            minutes = \"0\" + minutes;\n        }\n\n        return hours + \":\" + minutes;\n    };\n\n    // Create a chart object\n    var chart = d3\n        .select(\"#\" + name)\n        .attr(\"viewBox\", \"0 0 \" + chart_width + \" \" + chart_height)\n        .attr(\"width\", chart_width)\n        .attr(\"height\", chart_height)\n        .attr(\"preserveAspectRatio\", \"xMidYMin\")\n        .on(\"click\", click);\n\n    // Put title on chart\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"transform\", function(e) {\n            return \"translate( \" + width + \",15 )\";\n        })\n        .text(title);\n\n    // Put bars on chart\n    var bar = chart\n        .selectAll(\".bar\")\n        .data(data)\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"bar\")\n        .attr(\"transform\", function(d) {\n            return (\n                \"translate(\" +\n                (+x(d.x) + +margin.left) +\n                \",\" +\n                (+y(d.y) + +margin.top) +\n                \")\"\n            );\n        })\n        .on(\"mouseenter\", function(d) {\n            // Show tool tip\n            var i = 0,\n                size = d.length;\n\n            while (size >= 1) {\n                size = size / 10;\n                i++;\n            }\n            var wdth = i * 4 + 10;\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\n                    \"transform\",\n                    \"translate( \" +\n                        (margin.left - 5) +\n                        \", \" +\n                        (height - d.length * zoom + +margin.top + 10) +\n                        \" )\"\n                )\n                .attr(\"visibility\", \"visible\")\n                .text(d.length);\n\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .attr(\"width\", wdth + \"px\")\n                .attr(\"height\", \"15px\")\n                .select(\"rect\")\n                .attr(\n                    \"transform\",\n                    \"translate( \" +\n                        (+margin.left - wdth) +\n                        \", \" +\n                        (height - d.length * zoom + +margin.top) +\n                        \" )\"\n                )\n                .attr(\"width\", wdth + \"px\")\n                .attr(\"height\", \"15px\")\n                .attr(\"fill\", \"#ebd9b2\");\n        })\n        .on(\"mouseleave\", function(d) {\n            // Remove tool tip\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\"visibility\", \"hidden\");\n\n            d3\n                .select(d3.event.path[1])\n                .select(\".tool_tip\")\n                .select(\"rect\")\n                .attr(\"width\", \"0\")\n                .attr(\"height\", \"0\")\n                .attr(\"fill\", \"\");\n        });\n\n    // Create bar width\n    var bar_x;\n    if (data[0] == undefined) {\n        bar_x = 1;\n    } else {\n        bar_x = x(data[0].dx);\n    }\n\n    // Add color to bar\n    bar\n        .append(\"rect\")\n        .attr(\"x\", 1)\n        .attr(\"width\", bar_x - 1)\n        .attr(\"height\", function(d) {\n            return height - y(d.y);\n        });\n\n    // Create x axis\n    var xAxis = d3.svg\n        .axis()\n        .scale(x)\n        .orient(\"bottom\")\n        .tickFormat(formatMinutes);\n\n    // Add x axis to chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"id\", \"x_\" + name)\n        .attr(\n            \"transform\",\n            \"translate( \" + margin.left + \",\" + (+height + +margin.top) + \")\"\n        )\n        .call(xAxis);\n\n    // Add a title to the x axis\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"ax_title\")\n        .attr(\"transform\", function(e) {\n            var axis = d3.select(\"#x_\" + name).node();\n            var left_pad =\n                +margin.left + axis.getBoundingClientRect().width / 2 + 30;\n            var top_pad =\n                +margin.top + height + axis.getBoundingClientRect().height + 10;\n            var trans = \"translate(\" + left_pad + \",\" + top_pad + \")\";\n\n            return trans;\n        })\n        .text(\"ETA - hrs:mins\");\n\n    // Create y axis\n    var yAxis = d3.svg\n        .axis()\n        .scale(y)\n        .orient(\"left\");\n\n    // Add y axis to chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"id\", \"y_\" + name)\n        .attr(\"transform\", \"translate( \" + margin.left + \",\" + margin.top + \")\")\n        .call(yAxis);\n\n    // Add a title to the y axis\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"ax_title\")\n        .attr(\"transform\", function(e) {\n            var axis = d3.select(\"#y_\" + name).node();\n            var left_pad =\n                +margin.left - axis.getBoundingClientRect().width - 5;\n            var top_pad =\n                +margin.top + axis.getBoundingClientRect().height / 2 - 30;\n            var trans =\n                \"translate(\" + left_pad + \",\" + top_pad + \")rotate(-90)\";\n\n            return trans;\n        })\n        .text(\"Number of Jobs\");\n\n    // Put an invisible tool tip on the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"tool_tip\")\n        .append(\"rect\");\n    chart.select(\".tool_tip\").append(\"text\");\n}\n"]}