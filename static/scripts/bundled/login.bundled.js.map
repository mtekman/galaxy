{"version":3,"sources":["webpack:///login.bundled.js","webpack:///./galaxy/scripts/apps/login.js"],"names":["webpackJsonp","116","module","exports","__webpack_require__","Backbone","_","jQuery","$","GalaxyApp","_l","Page","window","app","options","bootstrapped","Galaxy","debug","redirect","encodeURI","show_welcome_with_login","params","param","use_panels","location","href","root","LoginPage","View","extend","initialize","page","this","model","Model","title","setElement","_template","render","prop","welcome_url","Right","call"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,EAAUC,GCN/C,GAAIC,GAASH,EAAQ,GACjBI,EAAID,EACJE,EAAYL,EAAQ,IAAUK,UAC9BC,EAAKN,EAAQ,GACbO,EAAOP,EAAQ,GAEnBQ,QAAOC,IAAM,SAAaC,EAASC,GAC/BH,OAAOI,OAAS,GAAIP,GAAUK,EAASC,GACvCC,OAAOC,MAAM,YACb,IAAIC,GAAWC,UAAUL,EAAQI,SAIjC,KAAKJ,EAAQM,wBAAyB,CAClC,GAAIC,GAASd,EAAOe,OAAQC,WAAY,OAAQL,SAAUA,GAE1D,aADAN,OAAOY,SAASC,KAAOT,OAAOU,KAAO,cAAgBL,GAIzD,GAAIM,GAAYtB,EAASuB,KAAKC,QAC1BC,WAAY,SAASC,GACjBC,KAAKD,KAAOA,EACZC,KAAKC,MAAQ,GAAI5B,GAAS6B,OAAQC,MAAOzB,EAAG,oBAC5CsB,KAAKI,WAAWJ,KAAKK,cAEzBC,OAAQ,WACJN,KAAKD,KAAKvB,EAAE,gBAAgB+B,KAAK,MAAOzB,EAAQ0B,cAEpDH,UAAW,WAGP,MACI,gBAFAvB,EAAQY,KAAO,cAAgBlB,EAAEc,OAAQJ,SAAUA,IAInD,2DAKZV,GAAE,WACEQ,OAAOe,KAAO,GAAIpB,GAAKiB,KACnBtB,EAAEuB,OAAOf,GACL2B,MAAOd,UDMMe,KAAKvC,EAASC,EAAoB,GAAIA,EAAoB,OAIpF","file":"login.bundled.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Backbone, _) {\n\nvar jQuery = __webpack_require__(0),\n    $ = jQuery,\n    GalaxyApp = __webpack_require__(42).GalaxyApp,\n    _l = __webpack_require__(4),\n    Page = __webpack_require__(43);\n\nwindow.app = function app(options, bootstrapped) {\n    window.Galaxy = new GalaxyApp(options, bootstrapped);\n    Galaxy.debug(\"login app\");\n    var redirect = encodeURI(options.redirect);\n\n    // TODO: remove iframe for user login (at least) and render login page from here\n    // then remove this redirect\n    if (!options.show_welcome_with_login) {\n        var params = jQuery.param({ use_panels: \"True\", redirect: redirect });\n        window.location.href = Galaxy.root + \"user/login?\" + params;\n        return;\n    }\n\n    var LoginPage = Backbone.View.extend({\n        initialize: function initialize(page) {\n            this.page = page;\n            this.model = new Backbone.Model({ title: _l(\"Login required\") });\n            this.setElement(this._template());\n        },\n        render: function render() {\n            this.page.$(\"#galaxy_main\").prop(\"src\", options.welcome_url);\n        },\n        _template: function _template() {\n            var login_url = options.root + \"user/login?\" + $.param({ redirect: redirect });\n            return '<iframe src=\"' + login_url + '\" frameborder=\"0\" style=\"width: 100%; height: 100%;\"/>';\n        }\n    });\n\n    $(function () {\n        Galaxy.page = new Page.View(_.extend(options, {\n            Right: LoginPage\n        }));\n    });\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(2)))\n\n/***/ })\n\n},[116]);\n\n\n// WEBPACK FOOTER //\n// login.bundled.js","var jQuery = require(\"jquery\"),\n    $ = jQuery,\n    GalaxyApp = require(\"galaxy\").GalaxyApp,\n    _l = require(\"utils/localization\"),\n    Page = require(\"layout/page\");\n\nwindow.app = function app(options, bootstrapped) {\n    window.Galaxy = new GalaxyApp(options, bootstrapped);\n    Galaxy.debug(\"login app\");\n    var redirect = encodeURI(options.redirect);\n\n    // TODO: remove iframe for user login (at least) and render login page from here\n    // then remove this redirect\n    if (!options.show_welcome_with_login) {\n        var params = jQuery.param({ use_panels: \"True\", redirect: redirect });\n        window.location.href = Galaxy.root + \"user/login?\" + params;\n        return;\n    }\n\n    var LoginPage = Backbone.View.extend({\n        initialize: function(page) {\n            this.page = page;\n            this.model = new Backbone.Model({ title: _l(\"Login required\") });\n            this.setElement(this._template());\n        },\n        render: function() {\n            this.page.$(\"#galaxy_main\").prop(\"src\", options.welcome_url);\n        },\n        _template: function() {\n            var login_url =\n                options.root + \"user/login?\" + $.param({ redirect: redirect });\n            return (\n                '<iframe src=\"' +\n                login_url +\n                '\" frameborder=\"0\" style=\"width: 100%; height: 100%;\"/>'\n            );\n        }\n    });\n\n    $(function() {\n        Galaxy.page = new Page.View(\n            _.extend(options, {\n                Right: LoginPage\n            })\n        );\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/login.js"],"sourceRoot":""}