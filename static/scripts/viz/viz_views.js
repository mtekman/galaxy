"use strict";define(["libs/underscore"],function(i){return{TrackHeaderView:Backbone.View.extend({className:"track-header",initialize:function(){this.model.config.get("name").on("change:value",this.update_name,this),this.render()},render:function(){this.$el.append($("<div/>").addClass(this.model.drag_handle_class)),this.$el.append($("<div/>").addClass("track-name").text(this.model.config.get_value("name"))),this.action_icons={},this.render_action_icons(),this.$el.dblclick(function(i){i.stopPropagation()}),this.$el.append($("<div style='clear: both'/>"))},update_name:function(){this.$el.find(".track-name").text(this.model.config.get_value("name"))},render_action_icons:function(){var e=this;this.icons_div=$("<div/>").addClass("track-icons").hide().appendTo(this.$el),i.each(this.model.action_icons_def,function(i){e.add_action_icon(i.name,i.title,i.css_class,i.on_click_fn,i.prepend,i.hide)}),this.set_display_modes(this.model.display_modes)},add_action_icon:function(i,e,t,n,o,s){var d=this;this.action_icons[i]=$("<a/>").attr("title",e).addClass("icon-button").addClass(t).tooltip().click(function(){n(d.model)}).appendTo(this.icons_div),s&&this.action_icons[i].hide()},set_display_modes:function(i,e){if(i){this.model.display_modes=i,this.model.mode=e||this.model.config.get_value("mode")||this.model.display_modes[0],this.action_icons.mode_icon.attr("title","Set display mode (now: "+this.mode+")");for(var t=this.model,n={},o=0,s=t.display_modes.length;o<s;o++){var d=t.display_modes[o];n[d]=function(i){return function(){t.change_mode(i)}}(d)}make_popupmenu(this.action_icons.mode_icon,n)}}})}});
//# sourceMappingURL=../../maps/viz/viz_views.js.map
