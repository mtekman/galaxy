"use strict";function replace_big_select_inputs(e,t,n){function r(e){var t={placeholder:"Click to select",closeOnSelect:!$(e).is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};return e.select2(t)}jQuery.fn.select2&&(void 0===e&&(e=20),void 0===t&&(t=3e3),(n=n||$("select")).each(function(){var n=$(this).not("[multiple]"),i=n.find("option").length;i<e||i>t||n.hasClass("no-autocomplete")||r(n)}))}function init_refresh_on_change(){$("select[refresh_on_change='true']").off("change").change(function(){var e=$(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var r=e.attr("last_selected_value");if(-1===$.inArray(t,n)&&-1===$.inArray(r,n))return}$(window).trigger("refresh_on_change"),$(document).trigger("convert_to_values"),e.get(0).form.submit()}),$(":checkbox[refresh_on_change='true']").off("click").click(function(){var e=$(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var r=e.attr("last_selected_value");if(-1===$.inArray(t,n)&&-1===$.inArray(r,n))return}$(window).trigger("refresh_on_change"),e.get(0).form.submit()}),$("a[confirm]").off("click").click(function(){return confirm($(this).attr("confirm"))})}window.jQuery=jQuery,window.$=jQuery,window._=_,window.Backbone=Backbone,window.panels=require("layout/panel"),_.extend(window,require("layout/modal")),window.async_save_text=require("utils/async-save-text");var POPUPMENU=require("ui/popupmenu");window.make_popupmenu=POPUPMENU.make_popupmenu,window.make_popup_menus=POPUPMENU.make_popup_menus,window.init_tag_click_function=require("ui/autocom_tagging");var TOURS=require("mvc/tours"),QUERY_STRING=require("utils/query-string-parsing");window.init_refresh_on_change=init_refresh_on_change,$(document).ready(function(){function e(){void 0!==Galaxy.root?$.getJSON(Galaxy.root+"api/webhooks/onload/all",function(e){_.each(e,function(e){e.activate&&e.script&&($("<script/>",{type:"text/javascript"}).text(e.script).appendTo("head"),$("<style/>",{type:"text/css"}).text(e.styles).appendTo("head"))})}):setTimeout(e,100)}init_refresh_on_change(),$.fn.tooltip&&($(".unified-panel-header [title]").tooltip({placement:"bottom"}),$("[title]").tooltip()),make_popup_menus(),replace_big_select_inputs(20,1500),$("a").click(function(){var e=$(this),t=parent.frames&&parent.frames.galaxy_main;if("galaxy_main"==e.attr("target")&&!t){var n=e.attr("href");-1==n.indexOf("?")?n+="?":n+="&",n+="use_panels=True",e.attr("href",n),e.attr("target","_self")}return e});var t=JSON.parse(sessionStorage.getItem("activeGalaxyTour"));if(t&&(t=TOURS.hooked_tour_from_data(t))&&t.steps&&window&&window.self===window.top){var n=new Tour(_.extend({steps:t.steps},TOURS.tour_opts));n.init(),n.restart()}e()});
//# sourceMappingURL=../maps/onload.js.map
