"use strict";define(["jquery"],function(t){"use_strict";var e=t;return function(t,i,r,n,a,u,o,s,c){void 0===a&&(a=30),void 0===o&&(o=4),e("#"+t).click(function(){if(!(e("#renaming-active").length>0)){var t,f=e("#"+i),l=f.text();(t=u?e("<textarea></textarea>").attr({rows:o,cols:a}).text(e.trim(l)):e("<input type='text'></input>").attr({value:e.trim(l),size:a})).attr("id","renaming-active"),t.blur(function(){e(this).remove(),f.show(),c&&c(t)}),t.keyup(function(a){if(27===a.keyCode)e(this).trigger("blur");else if(13===a.keyCode){var u={};u[n]=e(this).val(),e(this).trigger("blur"),e.ajax({url:r,data:u,error:function(){alert("Text editing for elt "+i+" failed")},success:function(e){""!==e?f.text(e):f.html("<em>None</em>"),c&&c(t)}})}}),s&&s(t),f.hide(),t.insertAfter(f),t.focus(),t.select()}})}});
//# sourceMappingURL=../../maps/utils/async-save-text.js.map
