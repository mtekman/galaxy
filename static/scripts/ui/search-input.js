"use strict";!function(e){"function"==typeof define&&define.amd?define([],e):e(jQuery)}(function(){function e(e,t){function i(e){$(this).parent().children("input").val("").trigger("searchInput.clear").blur(),t.onclear()}function a(e,n){if(!n)return i();$(this).trigger("search.search",n),"function"==typeof t.onfirstsearch&&o?(o=!1,t.onfirstsearch(n)):t.onsearch(n)}function c(){return['<input type="text" name="',t.name,'" placeholder="',t.placeholder,'" ','class="search-query ',t.classes,'" ',"/>"].join("")}var r=27,l=13,s=$(e),o=!0,h={initialVal:"",name:"search",placeholder:"search",classes:"",onclear:function(){},onfirstsearch:null,onsearch:function(e){},minSearchLen:0,escWillClear:!0,oninit:function(){}};return"string"===jQuery.type(t)?("toggle-loading"===t&&(s.find(".search-loading").toggle(),s.find(".search-clear").toggle()),s):("object"===jQuery.type(t)&&(t=jQuery.extend(!0,{},h,t)),s.addClass("search-input").prepend([$(c()).focus(function(e){$(this).select()}).keyup(function(e){if(e.preventDefault(),e.stopPropagation(),e.which===r&&t.escWillClear)i.call(this,e);else{var n=$(this).val();(e.which===l||t.minSearchLen&&n.length>=t.minSearchLen)&&a.call(this,e,n)}}).val(t.initialVal),$(['<span class="search-clear fa fa-times-circle" ','title="',n("clear search (esc)"),'"></span>'].join("")).tooltip({placement:"bottom"}).click(function(e){i.call(this,e)}),$(['<span class="search-loading fa fa-spinner fa-spin" ','title="',n("loading..."),'"></span>'].join("")).hide().tooltip({placement:"bottom"})]))}var n=window._l||function(e){return e};jQuery.fn.extend({searchInput:function(n){return this.each(function(){return e(this,n)})}})});
//# sourceMappingURL=../../maps/ui/search-input.js.map
